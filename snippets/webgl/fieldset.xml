<fieldset>

  <vars><![CDATA[

    @var: "[a-zA-Z]+\S*"
    @com: "\s*,\s*"
    @=: "\s*=\s*"
    @quo: "[\"|']"
    @eol: ";.*?\n?+"

  ]]></vars>

  <objects>
    <object key="texture">
      <label>Texture</label>
      <count>
        <min>0</min><max></max>
      </count>
      <fields>
        <field key="variable_name">
          <label>Variable Name</label>
          <type>variable_name</type>
          <rules>
            <rule>
              <match><![CDATA[
                @var
              ]]></match>
              <message>Must be non blank and begin with a letter</message>
            </rule>
          </rules>
        </field>
      </fields>
    </object>

    <object key="shader">
      <label>Shader</label>
      <count>
        <min>2</min><max></max>
      </count>
      <fields>
        <field key="variable_name">
          <label>Variable Name</label>
          <type>variable_name</type>
          <rules>
            <rule>
              <match><![CDATA[
                @var
              ]]></match>
              <message>Must be non blank and begin with a letter</message>
            </rule>
          </rules>
        </field>
        <field key="script_id">
          <label>Script ID</label>
          <type>text</type>
          <length>
            <min>1</min><max>70</max>
          </length>
          <unique />
          <rules>
            <rule>
              <match><![CDATA[
                @var
              ]]></match>
              <message>Must be non blank and begin with a letter</message>
            </rule>
          </rules>
        </field>
        <field key="type">
          <label>Shader Type</label>
          <type>select</type>
          <options>
            <option>
              <label>Select Type</label>
            </option>
            <option key="vert">
              <label>Vertex</label>
            </option>
            <option key="frag">
              <label>Fragment</label>
            </option>
          </options>
        </field>
      </fields>
    </object>

    <object key="program">
      <label>Shader Program</label>
      <count>
        <min>1</min><max></max>
      </count>
      <rels>
        <rel key="fragment_shader">
          <label>Fragment Shader</label>
          <count>
            <min>1</min><max>1</max>
          </count>
          <find>object[key="shader"]:has(option[key="frag"])</find>
        </rel>
        <rel key="vertex_shader">
          <label>Vertex Shader</label>
          <count>
            <min>1</min><max>1</max>
          </count>
          <find>object[key="shader"]:has(option[key="vert"])</find>
        </rel>
      </rels>
      <fields>
        <field key="variable_name">
          <label>Variable Name</label>
          <type>variable_name</type>
          <rules>
            <rule>
              <match><![CDATA[
                @var
              ]]></match>
              <message>Must be non blank and begin with a letter</message>
            </rule>
          </rules>
        </field>
      </fields>
    </object>

    <object key="buffer">
      <label>Buffer</label>
      <count>
        <min>1</min><max></max>
      </count>
      <fields>
        <field key="variable_name">
          <label>Variable Name</label>
          <type>variable_name</type>
          <rules>
            <rule>
              <match><![CDATA[
                @var
              ]]></match>
              <message>Must be non blank and begin with a letter</message>
            </rule>
          </rules>
        </field>
      </fields>
    </object>

  </objects>

</fieldset>
