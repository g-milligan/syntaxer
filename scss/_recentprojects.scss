$w-recent-project-lbl: 1.5rem;
$h-recent-project-wrap: 4rem;
$h-order-by-items: 1.6rem;

.box-col.recent-projects{

  .order-by-menu{
    display:none;position:absolute;top:100%;left:0;z-index:9999;background-color:#fff;font-size:0;@include borderbox();border:solid 1px #ccc;box-shadow:-5px 5px 5px rgba(0,0,0,.1);

    .close{
      position:absolute;right:-1px;top:-20;width:40px;height:20px;line-height:20px;background-color:#fff;border:solid 1px #ccc;border-bottom:none;text-align:center;border-radius:8px 8px 0 0;@include borderbox();

      &:before{
        content:"X";display:inline-block;line-height:inherit;font-size:15px;font-style:normal;font-family:$f-code;
      }
    }

    .option{
      position:relative;display:block;@include borderbox();font-size:($h-order-by-items * .6);height:$h-order-by-items;line-height:$h-order-by-items;white-space:nowrap;

      .ic{
        width:$h-order-by-items;height:100%;display:inline-block;@include borderbox();vertical-align:top;

        svg{
          path{

          }
        }
      }
      .label{
        @include borderbox();height:100%;line-height:inherit;display:inline-block;white-space:nowrap;vertical-align:top;padding-right:($h-order-by-items * .6);font-style:normal;
      }
    }
    .option:not(.acitve):hover{
      background-color:#ECECEC;

      .ic{
        svg{
          path{
          }
        }
      }
      .label{
      }
    }
    .option.active,.option.active:hover{
      background-color:#7f1171;
      .ic{
        svg{
          path{
            fill:#fff !important;
          }
        }
      }
      .label{
        color:#fff;
      }
    }
  }
  .order-by-menu.open{
    display:block;
  }

  .filter{
    display:none;height:$h-recent-project-wrap;font-size:.8rem;border-bottom:solid 1px #DCDCDC;@include borderbox();

    > div{
      width:100%;height:50%;position:relative;@include borderbox();line-height:($h-recent-project-wrap / 2);

      .bar{
        position:absolute;left:0;top:0;bottom:0;right:$w-recent-project-lbl;margin:auto;height:100%;

        .icon-btn{
          width:$w-recent-project-lbl;height:100%;position:absolute;left:0;top:0;bottom:0;margin:auto;cursor:pointer;

          svg{
            display:block;width:100%;height:100%;

            path{
              fill:#ccc;@include transition(fill .3s linear);
            }
          }
        }

        input.search-recent-project{
          display:inline-block;@include borderbox();width:100%;height:100%;line-height:0.8rem;padding:0 .5rem;font-size:.8rem;background-color:transparent;border:none;border-left:solid $w-recent-project-lbl transparent;outline:none;color:#8C8C8C;
        }

        .order-by-btn{
          display:inline-block;@include borderbox();width:100%;border-left:solid $w-recent-project-lbl transparent;

          span{
            display:inline-block;height:100%;line-height:($h-recent-project-wrap / 2);vertical-align:top;font-style:italic;
          }

          .order-icon{
            width:($h-recent-project-wrap / 2);position:relative;

            .icon{
              width:100%;height:100%;display:none;

              svg{
                path{
                  fill:#ccc;@include transition(fill .3s linear);
                }
              }

              &.active{
                display:block;
              }
            }
          }
        }

        .order-btn{
          display:inline-block;@include borderbox();width:70%;position:relative;cursor:pointer;color:#929292;@include transition(color .3s linear);@include noselect();
        }

        .order-btn:hover{
          color:#7f1171;

          svg{
            path{
              fill:#7f1171;
            }
          }
          .order-icon{
            .icon{
              svg{
                path{
                  fill:#7f1171;
                }
              }
            }
          }
        }

        .asc-desc-btn{
          display:inline-block;@include borderbox();width:30%;height:100%;cursor:pointer;@include noselect();

          svg{
            path{
              fill:#ccc;@include transition(fill .3s linear);
            }
          }

          .asc, .desc{
            display:none;width:($h-recent-project-wrap / 2);height:100%;
          }

          &.asc{
            .asc{
              display:block;
            }
          }
          &.desc{
            .desc{
              display:block;
            }
          }
        }

        .asc-desc-btn:hover{
          svg{
            path{
              fill:#7f1171;
            }
          }
        }
      }

      .reset-btn{
        width:$w-recent-project-lbl;position:absolute;right:0;top:0;bottom:0;height:100%;cursor:pointer;font-size:.8rem;

        &:before{
          content:"X";display:block;font-family:$f-code;line-height:($h-recent-project-wrap / 2);text-align:center;color:#ccc;@include transition(color .3s linear);
        }
      }

      .reset-btn:hover{
        &:before{
          color:#7f1171;
        }
      }
    }

    > div.search{
      background-color:#fff;border:solid 1px #ccc;border-left:none;border-right:none;

      .icon-btn:hover{
        svg{
          path{
            fill:#7f1171;
          }
        }
      }
    }

    > div.order{
      .bar{
        font-size:0;

        > *{
          font-size:.8rem;vertical-align:top;
        }
      }
    }
  }

  .scroll{
    background-color:#EFEFEF;

    .recent-project{
      position:relative;display:block;height:$h-recent-project-wrap;color:#929292;border:solid 1px #ccc;background-color:#F4F4F4;

      &.hide{
        display:none;
      }

      .lbl{
        cursor:pointer;position:absolute;left:0;top:0;bottom:0;width:$w-recent-project-lbl;line-height:($h-recent-project-wrap / 2);@include borderbox();padding:5px;background-color:rgba(0,0,0,.05);text-align:center;border:solid 1px #9E9E9E;border-bottom:none;border-top:none;@include noselect();

        .num{
          position:absolute;bottom:0;left:0;right:0;height:50%;@include borderbox();font-family:$f-code;font-size:.8rem;
        }
        .check{
          position:absolute;top:0;left:0;right:0;height:50%;@include borderbox();padding:6px;

          &:before{
            content:"";display:block;width:100%;height:100%;@include borderbox();border:solid 1px #9E9E9E;box-shadow:inset 1px -2px 5px rgba(0,0,0,.07);background-color:#E4E4E4;border-radius:0px;
          }
          &:after{
            position:absolute;left:0;top:0;text-align:center;display:block;width:100%;height:100%;line-height:($h-recent-project-wrap / 2);font-size:($h-recent-project-wrap / 4);
          }
        }
      }
      .lbl:hover{
        .num{

        }
        .check{
          &:before{
            box-shadow: inset -2px 3px 5px rgba(0, 0, 0, 0.1);background-color:rgba(0, 0, 0, 0.03);
          }
          &:after{
            color:#fff;
          }
        }
      }
      .pane{
        position:absolute;left:$w-recent-project-lbl;right:0;top:0;bottom:0;

        .title{
          position:absolute;left:0;top:0;width:100%;height:50%;cursor:pointer;white-space:nowrap;

          .unique-name{
            @include borderbox();@include transition(color .3s linear);font-weight:bold;white-space:nowrap;width:100%;height:100%;line-height:($h-recent-project-wrap / 2);overflow:hidden;text-align:left;padding-left:($h-recent-project-wrap / 8);border-right:solid ($h-recent-project-wrap / 2) transparent;font-size:($h-recent-project-wrap / 5);
          }
          .open-btn{
            width:($h-recent-project-wrap / 2);height:100%;position:absolute;right:0;top:0;text-align:right;

            svg{
              @include transition(background-color .3s linear);width:80%;height:80%;border-radius:5px;display:inline-block;position:absolute;right:0;top:0;bottom:0;margin:auto;

              path{
                fill:#929292;@include transition(fill .3s linear);
              }
            }
          }
        }
        .title:hover{
          .unique-name{
            color:#7f1171;
          }
          .open-btn{
            svg{
              background-color:#7f1171;

              path{
                fill:#fff;
              }
            }
          }
        }
        .data{
          position:absolute;left:0;bottom:0;height:50%;width:100%;

          .data-part{
            display:none;@include borderbox();width:100%;height:100%;

            .data-row{
              height:50%;line-height:($h-recent-project-wrap / 8);position:relative;font-size:($h-recent-project-wrap / 5);text-align:center;

              > *{
                padding:0 .5rem;
              }

              .time-bar{
                height:40%;display:block;padding:0 .5rem;@include borderbox();text-align:left;

                .fill-bar{
                  background-color:#7f1171;width:0;height:100%;display:inline-block;@include borderbox();
                }
              }

              .lab{
                position:absolute;left:0;top:0;width:50%;height:100%;@include borderbox();text-align:left;font-style:italic;
              }
              .val{
                position:absolute;right:0;top:0;width:50%;height:100%;@include borderbox();text-align:left;padding-left:0;
              }
            }
          }
          .data-part.one-row{
            .data-row{
              height:100%;line-height:($h-recent-project-wrap / 4);@include borderbox();
            }
          }
          .data-part.active{
            display:block;
          }
        }
      }
    }
    .recent-project.selected{
      .lbl{
        background-color:rgba(0, 0, 0, 0.15);

        .num{
          color:#fff;
        }
        .check{
          &:before{
            border:solid 1px #BFBFBF;
          }
          &:after{
            content:"X";
          }
        }
      }
    }
    .recent-project:not(.last){
      border-bottom:none;
    }
    .recent-project.alt{
      background-color:#EFEFEF;
    }
  }
}
section#lightbox div.box .box-content .box-col.recent-projects.show-filters{
  .filter{
    display:block;
  }
  .scroll{
    top:($h-recent-project-wrap + $h-lightbox-col-title);
  }
}
